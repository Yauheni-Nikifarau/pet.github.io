(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),i=n(9),c=n.n(i),s=(n(14),n(5)),o=(n(15),n(2)),u=n.n(o),l=n(3),d=n(6),p=n(4),b=n.p+"static/media/delete_basket.1edb1a32.svg",j=n.p+"static/media/people.0c1eddfc.svg",m=n(0),x=function(t){var e=Object(a.useState)(!1),n=Object(s.a)(e,2),r=n[0],i=n[1],c=function(){i(!1)};return Object(m.jsxs)("div",{className:"box "+t.title.toLowerCase(),children:[t.fields?Object(m.jsxs)("div",{className:"box_add-modal"+(r?" open":""),children:[t.fields.map((function(t,e){return"select"===t.type?Object(m.jsx)("select",{name:t.name,children:t.options?t.options.map((function(t,e){return Object(m.jsx)("option",{value:t.value,children:t.text},e)})):""},e):Object(m.jsx)("input",{type:t.type,name:t.name,placeholder:t.placeholder},e)})),Object(m.jsx)("button",{onClick:function(e){var n,a={},r=e.target.parentNode.querySelectorAll("input"),i=Object(d.a)(r);try{for(i.s();!(n=i.n()).done;){var s=n.value;a[s.name]=s.value,s.value=""}}catch(b){i.e(b)}finally{i.f()}var o,u=e.target.parentNode.querySelectorAll("select"),l=Object(d.a)(u);try{for(l.s();!(o=l.n()).done;){var p=o.value;a[p.name]=p.selectedOptions[0].value}}catch(b){l.e(b)}finally{l.f()}t.okClickHandler&&a&&t.okClickHandler(a),c()},children:"OK"})]}):"",Object(m.jsxs)("div",{className:"box-header",children:[Object(m.jsx)("h2",{children:t.title}),t.buttonShouldBe?Object(m.jsx)("button",{onClick:function(){i(!0)},children:"+Add"}):""]}),t.buttonShouldBe?Object(m.jsx)("div",{className:"shadow-bg"+(r?" open":""),onClick:c}):"",t.children]})},f=r.a.createContext({}),h=function(){var t,e=Object(a.useContext)(f),n=function(){var t=Object(l.a)(u.a.mark((function t(n){var a,r,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.library.data.items.length?e.library.data.items.reduce((function(t,e){return e.id>t.id?e:t})).id:0,r=e.library,i=e.library.data.participants.map((function(t){return t.id})),r.data.items.push({id:a+1,name:n.title,sum:+n.sum,participantsId:i}),t.next=6,e.updateLibrary(Object(p.a)({},r));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=Object(l.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=e.library).data.items=e.library.data.items.filter((function(t){return t.id!==n})),t.next=4,e.updateLibrary(Object(p.a)({},a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=Object(l.a)(u.a.mark((function t(n,a){var r,i,c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.library,(i=r.data.items.find((function(t){return t.id===n})))&&(c=r.data.items.indexOf(i),i.participantsId.includes(a)?(s=i.participantsId.indexOf(a),r.data.items[c].participantsId.splice(s,1)):r.data.items[c].participantsId.push(a)),t.next=5,e.updateLibrary(Object(p.a)({},r));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),c=[],s=Object(d.a)(e.library.data.participants);try{for(s.s();!(t=s.n()).done;){var o=t.value;c[o.id]=o.name}}catch(h){s.e(h)}finally{s.f()}return console.log(c),Object(m.jsxs)(x,{title:"Items",buttonShouldBe:!0,fields:[{type:"text",name:"title",placeholder:"Item Title"},{type:"number",name:"sum",placeholder:"Enter Sum"}],okClickHandler:n,children:[e.library.data.items.map((function(t){return Object(m.jsx)("div",{className:"box_item-box full",children:Object(m.jsxs)("div",{className:"box_item-box",children:[Object(m.jsxs)("p",{children:[t.name," ---- ",t.sum]}),Object(m.jsx)("img",{src:j,alt:"people button",className:"item-box_button item-box_button_people"}),Object(m.jsx)("ul",{className:"item-box_participants-list",children:c.map((function(e,n){return Object(m.jsx)("li",{children:Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{type:"checkbox",checked:t.participantsId.includes(n),onChange:function(){return i(t.id,n)}}),Object(m.jsx)("span",{children:e})]})})}))}),Object(m.jsx)("img",{src:b,onClick:function(){return r(t.id)},alt:"delete button",className:"item-box_button item-box_button_delete"})]},t.id)})})),Object(m.jsx)("p",{children:"Total: 111111"})]})},O=function(){var t=Object(a.useContext)(f),e=function(){var e=Object(l.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t.library).data.participants=t.library.data.participants.filter((function(t){return t.id!==n})),a.data.spending=t.library.data.spending.filter((function(t){return t.participantId!==n})),e.next=5,t.updateLibrary(Object(p.a)({},a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(l.a)(u.a.mark((function e(n){var a,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.library.data.participants.length?t.library.data.participants.reduce((function(t,e){return e.id>t.id?e:t})).id:0,r=t.library,i={id:a+1,name:n.name},r.data.participants.push(i),e.next=6,t.updateLibrary(Object(p.a)({},r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(x,{title:"Participants",buttonShouldBe:!0,fields:[{type:"text",name:"name",placeholder:"Enter participant name"}],okClickHandler:n,children:[t.library.data.participants.map((function(t){return Object(m.jsxs)("div",{className:"box_item-box",children:[Object(m.jsx)("p",{children:t.name}),Object(m.jsx)("img",{onClick:function(){return e(t.id)},src:b,alt:"delete button",className:"item-box_button item-box_button_delete"})]},t.id)})),Object(m.jsxs)("p",{children:["Total: ",t.library.data.participants.length]})]})},v=function(){var t=function(t){t.target.parentNode.classList.toggle("box_item-box_approved")};return Object(m.jsxs)(x,{title:"Results",buttonShouldBe:!1,children:[Object(m.jsxs)("div",{className:"box_item-box",children:[Object(m.jsx)("p",{children:"From Alex to Bob - 11111"}),Object(m.jsx)("button",{onClick:t,className:"item-box_button item-box_button_approve"})]}),Object(m.jsxs)("div",{className:"box_item-box box_item-box_approved",children:[Object(m.jsx)("p",{children:"From Alex to Bob - 11111"}),Object(m.jsx)("button",{onClick:t,className:"item-box_button item-box_button_approve"})]})]})},y=function(){var t=Object(a.useContext)(f),e=[{type:"select",name:"participant",options:t.library.data.participants.map((function(t){return{value:t.id,text:t.name}}))},{type:"number",name:"sum",placeholder:"Enter Sum"}],n=function(){var e=Object(l.a)(u.a.mark((function e(n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.library.data.spending.length?t.library.data.spending.reduce((function(t,e){return e.id>t.id?e:t})).id:0,(r=t.library).data.spending.push({id:a+1,participantId:+n.participant,amount:+n.sum}),e.next=5,t.updateLibrary(Object(p.a)({},r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(l.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t.library).data.spending=t.library.data.spending.filter((function(t){return t.id!==n})),e.next=4,t.updateLibrary(Object(p.a)({},a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=t.library.data.spending.map((function(e){var n=t.library.data.participants.find((function(t){return t.id===e.participantId})),a=n&&n.name?n.name:"Unknown";return{id:e.id,participantName:a,amount:e.amount}})),c=t.library.data.spending.length?t.library.data.spending.reduce((function(t,e){return Object(p.a)(Object(p.a)({},e),{},{amount:+e.amount+ +t.amount})})).amount:0;return Object(m.jsxs)(x,{title:"Spending",buttonShouldBe:!0,fields:e,okClickHandler:n,children:[i.map((function(t){return Object(m.jsxs)("div",{className:"box_item-box",children:[Object(m.jsxs)("p",{children:[t.participantName,": ",t.amount]}),Object(m.jsx)("img",{onClick:function(){return r(t.id)},src:b,alt:"delete button",className:"item-box_button item-box_button_delete"})]},t.id)})),Object(m.jsxs)("p",{children:["Total: ",c]})]})},g=function(){var t=Object(a.useState)(JSON.parse(localStorage.getItem("library")||"")),e=Object(s.a)(t,2),n=e[0],r=e[1],i=(Object(a.useContext)(f),function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(e),t.next=3,localStorage.setItem("library",JSON.stringify(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Object(m.jsx)("div",{children:Object(m.jsxs)(f.Provider,{value:{updateLibrary:i,library:n},children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(O,{}),Object(m.jsx)(y,{}),Object(m.jsx)(h,{}),Object(m.jsx)(v,{})]}),Object(m.jsx)("button",{children:"Calculate"})]})})},k={owner:"Alex",date:"12321312",name:"Tusa u Kiri",id:32423423,data:{participants:[{id:1,name:"Alex"},{id:2,name:"Bob"},{id:3,name:"Donald"}],spending:[{id:1,participantId:1,amount:111111}],items:[{id:1,name:"Beer",sum:1200,participantsId:[1,2,3]},{id:1,name:"Beer",sum:1200,participantsId:[1,3]}]},results:[{id:1,fromId:1,toId:2,sum:1200,approved:!1}]};var N=function(){var t=Object(a.useState)(!1),e=Object(s.a)(t,2),n=e[0],r=e[1];return localStorage.getItem("library")&&(localStorage.setItem("library",JSON.stringify(k)),console.log("put")),Object(m.jsxs)("div",{className:"app",children:[Object(m.jsxs)("header",{className:"app-header",children:[Object(m.jsxs)("div",{className:"menu",children:[Object(m.jsxs)("div",{onClick:function(){r(!n)},className:"menu-button"+(n?" open":""),children:[Object(m.jsx)("span",{}),Object(m.jsx)("span",{}),Object(m.jsx)("span",{})]}),Object(m.jsx)("div",{className:"menu-area"+(n?" open":""),children:Object(m.jsx)("ul",{})})]}),Object(m.jsx)("h1",{className:"app-name",children:"BillShare"})]}),Object(m.jsx)("main",{className:"app-content"+(n?" menu_open":""),children:Object(m.jsx)(g,{})})]})},_=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),i(t),c(t)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root")),_()}},[[18,1,2]]]);
//# sourceMappingURL=main.c3c7d7ef.chunk.js.map