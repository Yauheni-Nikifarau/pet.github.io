{"version":3,"sources":["img/delete_basket.svg","img/people.svg","context.ts","components/Box/Box.tsx","components/Box/Items.tsx","components/Box/Participants.tsx","components/Box/Results.tsx","components/Box/Spending.tsx","components/Calculation.tsx","library.js","App.tsx","reportWebVitals.ts","index.tsx"],"names":["LibraryContext","React","createContext","Box","props","useState","modalShouldOpen","setModalShouldOpen","context","useContext","callHandler","event","properties","inputs","target","parentNode","querySelectorAll","input","name","value","selects","select","selectedOptions","okClickHandler","className","title","toLowerCase","fields","allowModalState","map","field","index","type","options","option","text","placeholder","onClick","denyModal","buttonShouldBe","allowModal","children","Items","addItem","a","maxId","library","data","items","length","reduce","prev","current","id","tempLibrary","initialParticipantsID","participants","participant","push","sum","toFixed","participantsId","updateLibrary","removeItem","filter","item","changeParticipantList","itemId","participantId","find","itemIndex","indexOf","includes","splice","total","cur","src","people","alt","checked","onChange","delete_basket","Participants","removeParticipant","spending","addParticipant","newParticipant","Results","approve","result","results","resultIndex","approved","showResults","preparedData","temp","fromId","from","to","toId","Spending","addSpending","amount","removeSpending","participantName","Calculation","JSON","parse","localStorage","getItem","setLibrary","shouldShowResults","setShouldShowResults","setItem","stringify","calculate","alert","spendingAmount","itemsAmount","console","log","debtors","creditors","forEach","spends","debts","isDebtor","debtor","balance","creditor","Provider","owner","date","App","menuShouldOpen","shadowBgShouldBe","setShadowBgShouldBe","anyModalShouldBe","setAnyModalShouldBe","notShowShadowBg","denyAnyModal","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a91186d2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/delete_basket.1edb1a32.svg\";","export default __webpack_public_path__ + \"static/media/people.0c1eddfc.svg\";","import React from \"react\";\nimport {iLibrary} from \"./interfaces\";\n\ninterface iLibraryContext {\n    library: iLibrary\n    updateLibrary: (library: iLibrary) => Promise<void>,\n    allowModal: () => void,\n    denyModal: () => void,\n    allowModalState: boolean\n}\n\nexport const LibraryContext = React.createContext({} as iLibraryContext);","import React, {useContext, useState} from \"react\";\nimport {LibraryContext} from \"../../context\";\n\ninterface Option {\n    value: string|number,\n    text: string\n}\n\ninterface Field {\n    type: string,\n    name: string,\n    placeholder?: string\n    options?: Array<Option>\n}\n\ninterface BoxProps {\n    title: string,\n    buttonShouldBe: boolean,\n    okClickHandler?: (properties: any) => void,\n    fields?: Array<Field>\n    children: any\n}\n\ninterface MyState {\n    modalShouldOpen: boolean\n}\n\nconst Box = (props: BoxProps) => {\n    const [modalShouldOpen, setModalShouldOpen] = useState(false);\n    const context = useContext(LibraryContext);\n\n    const openModal = () => {\n        setModalShouldOpen(true);\n    }\n    const closeModal = () => {\n        setModalShouldOpen(false);\n    }\n    const callHandler = (event: any) => {\n        let properties: any = {};\n        const inputs = event.target.parentNode.querySelectorAll('input');\n        for (let input of inputs) {\n            properties[input.name] = input.value;\n            input.value = '';\n        }\n        const selects = event.target.parentNode.querySelectorAll('select');\n        for (let select of selects) {\n            properties[select.name] = select.selectedOptions[0].value;\n        }\n        if (props.okClickHandler && properties) {\n            props.okClickHandler(properties);\n        }\n        closeModal();\n    }\n\n    return (\n        <div className={'box ' + props.title.toLowerCase()}>\n            {props.fields ?\n                <div className={'box_add-modal' + (modalShouldOpen && context.allowModalState ? ' open' : '')}>\n                    {props.fields.map((field, index) => (\n                        field.type === 'select' ?\n                            <select name={field.name} key={index}>\n                                {field.options ?\n                                    field.options.map((option: Option, index) => (\n                                        <option value={option.value} key={index}>{option.text}</option>\n                                    )) : ''\n                                }\n                            </select> :\n                            <input type={field.type} name={field.name} placeholder={field.placeholder} key={index} />\n                    ))}\n                    <button onClick={(event) => {callHandler(event); context.denyModal()}}>OK</button>\n                </div>\n                : ''\n            }\n            <div className='box-header'>\n                <h2>{props.title}</h2>\n                {props.buttonShouldBe ?\n                    <button onClick={() => {openModal(); context.allowModal()}}>+Add</button>\n                    : ''\n                }\n            </div>\n            {props.children}\n        </div>\n    )\n}\n\nexport default Box;","import React, {useContext} from \"react\";\nimport delete_basket from \"../../img/delete_basket.svg\";\nimport edit from \"../../img/edit.svg\";\nimport people from \"../../img/people.svg\";\nimport Box from \"./Box\";\nimport {LibraryContext} from \"../../context\";\n\nconst Items = () => {\n    const context = useContext(LibraryContext);\n    const fields = [{type: 'text', name: 'title', placeholder: 'Item Title'} ,{type: 'number', name: 'sum', placeholder: 'Enter Sum'}];\n\n    const addItem = async (properties: any) => {\n        const maxId = context.library.data.items.length ? context.library.data.items.reduce((prev: any, current: any) => current.id > prev.id ? current : prev).id : 0;\n        const tempLibrary = context.library;\n        const initialParticipantsID = context.library.data.participants.map((participant) => participant.id);\n        tempLibrary.data.items.push({id: maxId + 1, name: properties.title, sum: +(+properties.sum).toFixed(2), participantsId: initialParticipantsID });\n        await context.updateLibrary({ ...tempLibrary });\n    }\n\n    const removeItem = async (index: number) => {\n        let tempLibrary = context.library;\n        tempLibrary.data.items = context.library.data.items.filter((item: any) => item.id !== index);\n        await context.updateLibrary({ ...tempLibrary });\n    }\n\n    const changeParticipantList = async (itemId: number, participantId: number) => {\n        let tempLibrary = context.library;\n        const item = tempLibrary.data.items.find((item) => item.id === itemId);\n        if (item) {\n            const itemIndex = tempLibrary.data.items.indexOf(item);\n            if (item.participantsId.includes(participantId)) {\n                const index = item.participantsId.indexOf(participantId);\n                tempLibrary.data.items[itemIndex].participantsId.splice(index, 1);\n            } else {\n                tempLibrary.data.items[itemIndex].participantsId.push(participantId)\n            }\n        }\n        await context.updateLibrary({ ...tempLibrary });\n    }\n\n    let participants: any = [];\n    for (let participant of context.library.data.participants) {\n        participants[participant.id] = participant.name;\n    }\n\n    const total = context.library.data.items.length ? context.library.data.items.reduce((prev, cur) => {\n        return { ...cur, sum: +cur.sum + +prev.sum }\n    }).sum : 0;\n\n    return(\n        <Box title={'Items'} buttonShouldBe={true} fields={fields} okClickHandler={addItem}>\n            {context.library.data.items.map((item) => (\n                    <div className='box_item-box' key={item.id}>\n                        <p>{item.name} ---- {item.sum}</p>\n                        <img src={people} alt=\"people button\" className='item-box_button item-box_button_people'/>\n                        <ul className='item-box_participants-list'>\n                            {participants.map((value: string, index: number) => (\n                                <li>\n                                    <label>\n                                        <input type=\"checkbox\"\n                                               checked={item.participantsId.includes(index)}\n                                               onChange={() => changeParticipantList(item.id, index)}/>\n                                        <span>{value}</span>\n                                    </label>\n                                </li>\n                            ))}\n                        </ul>\n                        <img src={delete_basket}  onClick={() => removeItem(item.id)} alt=\"delete button\" className='item-box_button item-box_button_delete'/>\n                    </div>\n            ))}\n            <p>Total: {total}</p>\n        </Box>\n    )\n}\n\nexport default Items;","import React, {useContext, useEffect, useState} from \"react\";\nimport Box from \"./Box\";\nimport delete_basket from '../../img/delete_basket.svg';\nimport {LibraryContext} from \"../../context\";\nimport {iLibrary} from \"../../interfaces\";\n\n\nconst Participants = () => {\n    const context = useContext(LibraryContext);\n    const fields = [{type: 'text', name: 'name', placeholder: 'Enter participant name'}];\n\n    const removeParticipant = async (index: number) => {\n        let tempLibrary = context.library;\n        tempLibrary.data.participants = context.library.data.participants.filter((participant: any) => participant.id !== index);\n        tempLibrary.data.spending = context.library.data.spending.filter((spending: any) => spending.participantId !== index);\n        await context.updateLibrary({ ...tempLibrary });\n    }\n\n    const addParticipant = async (properties: any) => {\n        let maxId = context.library.data.participants.length ? context.library.data.participants.reduce((prev: any, current: any) => current.id > prev.id ? current : prev).id : 0;\n        let tempLibrary = context.library;\n        let newParticipant = {id: maxId + 1, name: properties.name};\n        tempLibrary.data.participants.push(newParticipant);\n        await context.updateLibrary({...tempLibrary});\n    }\n\n    return (\n        <Box title={'Participants'} buttonShouldBe={true} fields={fields} okClickHandler={addParticipant}>\n            {context.library.data.participants.map((participant) => (\n                <div className='box_item-box' key={participant.id}>\n                    <p>{participant.name}</p>\n                    <img onClick={() => removeParticipant(participant.id)} src={delete_basket} alt=\"delete button\" className='item-box_button item-box_button_delete'/>\n                </div>\n            ))}\n\n            <p>Total: {context.library.data.participants.length}</p>\n        </Box>\n    )\n}\n\nexport default Participants;","import React, {useContext} from \"react\";\nimport Box from \"./Box\";\nimport {LibraryContext} from \"../../context\";\n\ninterface ResultsProps {\n    showResults: () => void\n}\n\nconst Results = (props: ResultsProps) => {\n    const context = useContext(LibraryContext);\n\n    const approve = async (id: number) => {\n        let tempLibrary = context.library;\n        const result = tempLibrary.results.find((result) => result.id === id);\n        if (result) {\n            const resultIndex = tempLibrary.results.indexOf(result);\n            tempLibrary.results[resultIndex].approved = !tempLibrary.results[resultIndex].approved\n        }\n        await context.updateLibrary({ ...tempLibrary });\n        props.showResults();\n    }\n\n    const preparedData = [];\n    for (let result of context.library.results) {\n        let temp = context.library.data.participants.find((participant) => participant.id === result.fromId);\n        const from = temp ? temp.name : 'Unknown';\n        temp = context.library.data.participants.find((participant) => participant.id === result.toId);\n        const to = temp ? temp.name : 'Unknown';\n        preparedData.push({\n            id: result.id,\n            from: from,\n            to: to,\n            sum: result.sum,\n            approved: result.approved\n        })\n    }\n\n    return(\n        <Box title={'Results'} buttonShouldBe={false}>\n            {preparedData.map((result, index) => (\n                <div className={result.approved ? 'box_item-box box_item-box_approved' : 'box_item-box'} key={index}>\n                    <p>From {result.from} to {result.to} - {result.sum}</p>\n                    <button onClick={() => approve(result.id)} className='item-box_button item-box_button_approve'></button>\n                </div>\n            ))}\n        </Box>\n    )\n}\n\nexport default Results;","import React, {useContext} from \"react\";\nimport delete_basket from \"../../img/delete_basket.svg\";\nimport Box from \"./Box\";\nimport {LibraryContext} from \"../../context\";\n\nconst Spending = () => {\n    const context = useContext(LibraryContext);\n    const fields = [{type: 'select', name: 'participant', options: context.library.data.participants.map((participant) => { return {value: participant.id, text: participant.name}})},{type: 'number', name: 'sum', placeholder: 'Enter Sum'}];\n\n    const addSpending = async (properties: any) => {\n        const maxId = context.library.data.spending.length ? context.library.data.spending.reduce((prev: any, current: any) => current.id > prev.id ? current : prev).id : 0;\n        const tempLibrary = context.library;\n        tempLibrary.data.spending.push({id: maxId + 1, participantId: +properties.participant, amount: +(+properties.sum).toFixed(2) });\n        await context.updateLibrary({ ...tempLibrary });\n    }\n\n    const removeSpending = async (index: number) => {\n        let tempLibrary = context.library;\n        tempLibrary.data.spending = context.library.data.spending.filter((spending: any) => spending.id !== index);\n        await context.updateLibrary({ ...tempLibrary });\n    }\n\n    const items = context.library.data.spending.map((spending) => {\n        let participant = context.library.data.participants.find((participant) => participant.id === spending.participantId);\n        let participantName = participant && participant.name ? participant.name : 'Unknown';\n        return {\n            id: spending.id,\n            participantName: participantName,\n            amount: spending.amount\n        }\n    })\n\n    // let total = 0;\n    // for (let spending of context.library.data.spending) {\n    //     total += spending.amount;\n    // }\n\n    const total = context.library.data.spending.length ? context.library.data.spending.reduce((prev, cur) => {\n        // let result = { ...cur };\n        // result.amount = +cur.amount + +prev.amount;\n        // return result;\n        return { ...cur, amount: +cur.amount + +prev.amount }\n    }).amount : 0;\n\n    return(\n        <Box title={'Spending'} buttonShouldBe={true} fields={fields} okClickHandler={addSpending}>\n            {items.map((spending) => (\n                <div className='box_item-box' key={spending.id}>\n                    <p>{spending.participantName}: {spending.amount}</p>\n                    <img onClick={() => removeSpending(spending.id)} src={delete_basket} alt=\"delete button\" className='item-box_button item-box_button_delete'/>\n                </div>\n            ))}\n            <p>Total: {total}</p>\n        </Box>\n    )\n}\n\nexport default Spending;","import React, {useContext, useState} from \"react\";\nimport Items from \"./Box/Items\";\nimport Participants from \"./Box/Participants\";\nimport Results from \"./Box/Results\";\nimport Spending from \"./Box/Spending\";\nimport {LibraryContext} from \"../context\";\nimport {iLibrary} from \"../interfaces\";\n\ninterface CalculationProps {\n    allowModal: () => void,\n    denyModal: () => void,\n    allowModalState: boolean,\n}\n\nconst Calculation = (props: CalculationProps) => {\n    const [library, setLibrary] = useState(JSON.parse(localStorage.getItem('library') || ''));\n    const [allowModal, denyModal, allowModalState] = [props.allowModal, props.denyModal, props.allowModalState];\n    const [shouldShowResults, setShouldShowResults] = useState(false);\n    const context = useContext(LibraryContext);\n    const updateLibrary = async (library: iLibrary) => {\n        setLibrary(library);\n        setShouldShowResults(false);\n        await localStorage.setItem('library', JSON.stringify(library));\n    }\n\n    const calculate = async () => {\n        for (let item of library.data.items) {\n            if (!item.participantsId.length) {\n                alert(`You don't have participants sharing \"${item.name}\" item`);\n                return;\n            }\n        }\n\n        const spendingAmount = library.data.spending.length ? library.data.spending.reduce((prev: any, cur: any) => {\n            return {...cur, amount: +cur.amount + +prev.amount}\n        }).amount : 0;\n\n        const itemsAmount = library.data.items.length ? library.data.items.reduce((prev: any, cur: any) => {\n            return {...cur, sum: +cur.sum + +prev.sum}\n        }).sum : 0;\n\n        console.log(spendingAmount);\n        console.log(itemsAmount);\n        if (spendingAmount !== itemsAmount) {\n            alert('Spending and Items sums are not equal. Check it out.');\n            return;\n        }\n\n        let debtors: Array<any> = [];\n        let creditors: Array<any> = [];\n\n        library.data.participants.forEach((participant: any) => {\n            let spends = 0;\n            for (let spending of library.data.spending) {\n                if (spending.participantId === participant.id) spends += spending.amount;\n            }\n            let debts: number = 0;\n            for (let item of library.data.items) {\n                if (item.participantsId.length && item.participantsId.includes(participant.id)) {\n                    debts += +(item.sum / item.participantsId.length).toFixed(2);\n                }\n            }\n            const isDebtor = debts > spends;\n            if (isDebtor) {\n                debtors.push({\n                    id: participant.id,\n                    name: participant.name,\n                    debtor: isDebtor,\n                    balance: debts - spends,\n                })\n            } else {\n                creditors.push({\n                    id: participant.id,\n                    name: participant.name,\n                    debtor: isDebtor,\n                    balance: spends - debts,\n                })\n            }\n        })\n\n        let tempLibrary = library;\n        tempLibrary.results = [];\n\n        for (let creditor of creditors) {\n            for (let debtor of debtors) {\n                if (creditor.balance <= 0) break;\n                if (debtor.balance <= 0) continue;\n                let sum = 0;\n                if (creditor.balance >= debtor.balance) {\n                    sum = debtor.balance;\n                    creditor.balance -= sum;\n                } else {\n                    sum = creditor.balance;\n                    debtor.balance -= sum;\n                }\n                if (sum > 0) {\n                    const maxId = tempLibrary.results.length ? tempLibrary.results.reduce((prev: any, current: any) => current.id > prev.id ? current : prev).id : 0;\n                    tempLibrary.results.push({\n                        id: maxId+1,\n                        fromId: debtor.id,\n                        toId: creditor.id,\n                        sum: sum.toFixed(2),\n                        approved: false,\n                    })\n                }\n            }\n        }\n\n        await updateLibrary({ ...tempLibrary });\n        setShouldShowResults(true);\n    }\n\n    return (\n        <div>\n            <LibraryContext.Provider value={{updateLibrary, library, allowModal, denyModal, allowModalState}}>\n                <div>\n                    <Participants/>\n                    <Spending/>\n                    <Items/>\n                    {shouldShowResults ? <Results showResults={() => setShouldShowResults(true)} /> : null}\n                </div>\n                <button onClick={calculate}>Calculate</button>\n            </LibraryContext.Provider>\n        </div>\n    )\n\n}\n\nexport default Calculation;","export default {\n    owner: '',\n    date: '',\n    name: '',\n    id: 1,\n    data: {\n        participants: [],\n        spending: [],\n        items: []\n    },\n    results: [{id: 1, fromId: 1, toId: 2, sum: 1200, approved: false}]\n}","import React, {useState} from 'react';\nimport './App.css';\nimport Calculation from \"./components/Calculation\";\nimport library from \"./library.js\";\n\nfunction App() {\n    const [menuShouldOpen, setMenuShouldOpen] = useState(false);\n    const [shadowBgShouldBe, setShadowBgShouldBe] = useState(false);\n    const [anyModalShouldBe, setAnyModalShouldBe] = useState(false);\n    const showShadowBg = () => {\n        setShadowBgShouldBe(true);\n    }\n    const notShowShadowBg = () => {\n        setShadowBgShouldBe(false);\n    }\n    const openMenu = () => {\n        setMenuShouldOpen(!menuShouldOpen);\n    }\n    const denyAnyModal = () => {\n        setAnyModalShouldBe(false);\n    }\n    const allowAnyModal = () => {\n        setAnyModalShouldBe(true);\n    }\n    const putLibrary = () => {\n        localStorage.setItem('library', JSON.stringify(library));\n    }\n    if (!localStorage.getItem('library')) {\n        putLibrary();\n        console.log('put')\n    }\n  return (\n    <div className=\"app\">\n        <header className='app-header'>\n            {/*<div className='menu'>*/}\n            {/*    <div onClick={openMenu} className={'menu-button' + (menuShouldOpen? ' open' : '')}>*/}\n            {/*        <span></span><span></span><span></span>*/}\n            {/*    </div>*/}\n            {/*    <div className={'menu-area' + (menuShouldOpen? ' open' : '')}>*/}\n            {/*        <ul></ul>*/}\n            {/*    </div>*/}\n            {/*</div>*/}\n            <h1 className='app-name'>BillShare</h1>\n        </header>\n        <main className={'app-content' + (menuShouldOpen? ' menu_open' : '')}>\n            <Calculation allowModalState={anyModalShouldBe} allowModal={() => {allowAnyModal(); showShadowBg()}} denyModal={() => {denyAnyModal(); notShowShadowBg()}}/>\n            <div className='app-instruction'>\n                <p>It is an App helping you having a party to share your costs between participants honestly. Follow the next steps:</p>\n                <p>1. Add all party participants to Participants window</p>\n                <p>2. Add the information what costs has every participant to Spending window</p>\n                <p>3. Add the information about all things participants bought and what things what participants shared to Items window</p>\n                <p>4. Click Calculate!</p>\n                <p></p>\n            </div>\n        </main>\n        <div className={'shadow-bg' + (shadowBgShouldBe ? ' open' : '')} onClick={() => {denyAnyModal(); notShowShadowBg()}}></div>\n\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}